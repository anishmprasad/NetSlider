!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("classnames"),require("lodash"),require("react-addons-transition-group")):"function"==typeof define&&define.amd?define(["react","react-dom","classnames","lodash","react-addons-transition-group"],t):"object"==typeof exports?exports.netslider=t(require("react"),require("react-dom"),require("classnames"),require("lodash"),require("react-addons-transition-group")):e.netslider=t(e.react,e["react-dom"],e.classnames,e.lodash,e["react-addons-transition-group"])}(this,function(t,f,b,y,g){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,n){e.exports=t},function(e,t){e.exports=f},function(e,t,n){e.exports=n(6)()},function(e,t){e.exports=b},function(e,t){e.exports=y},function(e,t){e.exports=g},function(e,t,n){"use strict";var o=n(7);function i(){}e.exports=function(){function e(e,t,n,i,r,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(t,f,b){"use strict";b.r(f);var y=b(0),g=b.n(y),w=b(2),O=b.n(w),E=b(1),S=b.n(E),_=b(4),T=b.n(_);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,x(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,y["Component"]),n=t,(o=[{key:"render",value:function(){var e=T.a.extend({"slider-item":!0},this.props.additionalClasses);return this.props.viewportIndex&&(e["slider-item-"+this.props.viewportIndex]=!0),g.a.createElement("div",{className:"slider-item"},this.props.children)}}])&&N(n.prototype,o),i&&N(n,i),t}();function C(e){for(var t=[],n=0;n<e.totalPages;n+=1){var o=n===e.activePage?"active":"";t.push(g.a.createElement("li",{className:o,key:"pi"+n}))}return g.a.createElement("ul",{className:"pagination-indicator"},t)}B.defaultProps={additionalClasses:{}};var A=b(3),D=b.n(A);function V(e){var t=e.pulsate,n=e.displayWhenNotPulsing,o=e.boxClassNames,i=e.delay+"s",r=t?{WebkitAnimationDelay:i,AnimationDelay:i}:{};return o.pulsate=t&&n,o["pulsate-transparent"]=t&&!n,o["no-pulsate"]=!t&&n,g.a.createElement("div",{className:D()(o),style:r})}function H(e){var t={smallTitleCard:!0,loadingTitle:!0};return e.className&&(t[e.className]=!0),g.a.createElement("div",{className:D()(t)},g.a.createElement(V,{boxClassNames:{"ratio-16x9":!0},delay:e.delay,pulsate:e.pulsate,displayWhenNotPulsing:e.displayWhenNotPulsing}))}var W={LAZY_LOADING:{IMAGES:6}},z=32,F=13,q={};function X(){this._viewportRegion=null,this._onScreen={},this._onScreenElems={},this._headerEl=null,this._initialized=!1,this._verticalScrollPosition=0,this._trackedElements=[],this._isPaused=!1}X.prototype._isElementInRegion=function(e,t){var n=e.left+(e.right-e.left)/2,o=e.top+(e.bottom-e.top)/2;return e.left!==e.right&&t.left!==t.right&&n>=t.left&&n<=t.right&&o>=t.top&&o<=t.bottom},X.prototype._calcWindowActiveRegion=function(){if(!this._headerEl){var e=document.querySelector(q.GLOBAL_HEADER_SELECTOR);this._headerEl=e}var t=o.getWindowRect();return{left:0,top:this._headerEl&&"fixed"===window.getComputedStyle(this._headerEl).getPropertyValue("position")?this._headerEl.getBoundingClientRect().height:0,right:t.right,bottom:t.bottom}},X.prototype._scanElement=function(e){return!!e&&this._isElementInRegion(o.getRect(e),this._viewportRegion)},X.prototype._extractTrackingData=function(e){return JSON.parse(decodeURI(e.getAttribute("data-ui-tracking-context")))},X.prototype._findAllVisibleElements=function(e,t){var n=this,o=e.filter(function(e){return-1===t.indexOf(e)&&n._scanElement(e)}).map(function(e){return e.getElementsByClassName(q.ELEMENT_SELECTOR_CLASS)}).reduce(function(e,t){return Object.assign(e,i.mapKeys(t,function(e){return e?e.getAttribute("data-tracking-uuid"):void 0}))},{});return i.pick(o,function(e){return n._scanElement(e)})},X.prototype._fullScan=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=this._onScreen,o=Array.prototype.slice.call(document.getElementsByClassName(q.CONTAINER_SELECTOR_CLASS)),r=Array.prototype.slice.call(document.querySelectorAll("."+q.DISABLED_SECTION_SELECTOR_CLASS+" ."+q.CONTAINER_SELECTOR_CLASS)),s=(new Date).getTime();t._viewportRegion=t._calcWindowActiveRegion();var a=window.scrollY;t._verticalScrollPosition!==a&&(e.yScrollDirection=t._verticalScrollPosition<a?q.Y_SCROLL_DIRECTION.DOWN:q.Y_SCROLL_DIRECTION.UP);var l=t._findAllVisibleElements(o,r),u=i.mapValues(l,function(e){var n=t._extractTrackingData(e);return n.time=n.time||s,n}),c=Object.keys(l).filter(function(e){return!n[e]}),p=Object.keys(n).filter(function(e){return!l[e]});return e.data={elements:u,added:c,removed:p},t._verticalScrollPosition=a,t._onScreen=u,t._onScreenElems=l,e}.apply(this,arguments)},X.prototype.requestScan=function(){T.a.debounce(function(e){s._initialized&&!s._isPaused&&T.a.emit("pt:fullscan",s._fullScan(e))})},X.prototype.init=function(e){if(!this._initialized&&!q.IN_NODE&&a(q.FAST_PROPS.ACTIVE)){var t=this,n=function(){window.addEventListener("scroll",function(){t.requestScan({event:q.SCAN_EVENTS.SCROLL})}),window.addEventListener("resize",function(){t.requestScan({isResize:!0,event:q.SCAN_EVENTS.RESIZE})})};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?n():document.addEventListener("DOMContentLoaded",n,!1),this._verticalScrollPosition=window.scrollY,this._initialized=!0}},X.prototype.pauseScanning=function(){this._isPaused=!0},X.prototype.resumeScanning=function(){this._isPaused=!1},X.prototype.registerElement=function(e,t){this._trackedElements[t]=e},X.prototype.unregisterElement=function(e){delete this._trackedElements[e]};var U=new X,Y={getRect:function(e){return e&&e.getBoundingClientRect()},getWindowRect:function(){var e=window,t=e.innerWidth,n=e.innerHeight;return{top:0,bottom:n,left:0,right:t,width:t,height:n}},isElementInViewport:function(e){return this.isElementInRegion(this.getRect(e),this.getWindowRect())},isElementInViewportIgnoreNoDimensions:function(e){var t=this.getRect(e);return 0===t.width&&0===t.height||this.isElementInRegion(t,this.getWindowRect())},isElementInRegion:function(e,t){var n=e.left+(e.right-e.left)/2,o=e.top+(e.bottom-e.top)/2;return e.left!==e.right&&t.left!==t.right&&n>=t.left&&n<=t.right&&o>=t.top&&o<=t.bottom},getScrollTop:function(){return window.pageYOffset},getDistanceToTopOfElement:function(e){var t=this.getScrollTop(),n=this.getWindowRect(),o=this.getRect(e),i=t+n.height;return o.top+t-i},getDistanceToBottomOfElement:function(e){var t=this.getScrollTop(),n=this.getWindowRect(),o=this.getRect(e),i=t+n.height;return o.top+t+o.height-i},getTotalDocumentSize:function(){var e=document.documentElement?document.documentElement.clientHeight:0,t=document.documentElement?document.documentElement.clientWidth:0;return{height:document.body?document.body.clientHeight:e,width:document.body?document.body.clientWidth:t}},MIN_HORZ_SWIPE_THRESHOLD_IN_PX:65,MIN_VERT_SWIPE_THRESHOLD_IN_PX:30,ADVANCE_NEXT:"next",ADVANCE_PREV:"prev",deltaIndicatesAdvancement:function(e,t,n){var o=(n?-1:1)*e;if(Math.abs(t)<=this.MIN_VERT_SWIPE_THRESHOLD_IN_PX){if(o>=this.MIN_HORZ_SWIPE_THRESHOLD_IN_PX)return this.ADVANCE_NEXT;if(o<=-this.MIN_HORZ_SWIPE_THRESHOLD_IN_PX)return this.ADVANCE_PREV}return null},wheelAdvanceDirection:function(e,t){var n=Math.abs(e.deltaY);return"wheel"===e.type&&n<=this.MIN_VERT_SWIPE_THRESHOLD_IN_PX?(e.stopPropagation(),this.deltaIndicatesAdvancement(e.deltaX,e.deltaY,t)):null},touchAdvanceDirection:function(e,t,o){var i=n.getTouchObject(e),r=t?t.x-i.clientX:0,s=t?t.y-i.clientY:0;return{deltaX:r,deltaY:s,direction:this.deltaIndicatesAdvancement(r,s,o)}}};function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(){for(var t=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var i=ee(o);if("string"===i||"number"===i)t.push(o);else if(Array.isArray(o))t.push(e.apply(null,o));else if("object"===i)for(var r in o)Object.hasOwnProperty.call(o,r)&&o[r]&&t.push(r)}}return t.join(" ")}function ne(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function oe(e,t,n){var o=n/e/(t/e);return Math.ceil(o)}var ie=function(e){function t(e){var n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=Q(t).call(this,e),n=!i||"object"!==ee(i)&&"function"!=typeof i?K(o):i,$(K(K(n)),"advanceNext",function(e){var t=n.getTotalItemCount(),o=n.props.itemsInRow,i=n.state.lowestVisibleItemIndex,r=n.state.lowestVisibleItemIndex+o;if(e&&e.preventDefault(),n.isNextNavActive()&&!n.isAnimating){n.isAnimating=!0,r!==t&&i+2*o>t&&(r=t-n.props.itemsInRow);var s=n.state.lowestVisibleItemIndex-r,a=n.getNewSliderOffset(s)+n.getBaseSliderOffset();r===t&&(r=0),e&&"wheel"===e.type?n.shiftSlider(r,a,n.statics.MOVE_DIRECTION_NEXT,{x:e.clientX,y:e.clientY},!1,oe(t,o,r)):e&&"keydown"===e.type?n.shiftSlider(r,a,n.statics.MOVE_DIRECTION_NEXT,null,!0,oe(t,o,r)):n.shiftSlider(r,a,n.statics.MOVE_DIRECTION_NEXT,null,!1,oe(t,o,r))}}),$(K(K(n)),"advancePrev",function(e){var t=n.getTotalItemCount(),o=n.props.itemsInRow,i=n.state.lowestVisibleItemIndex,r=n.state.lowestVisibleItemIndex-n.props.itemsInRow;if(e&&e.preventDefault(),n.isPrevNavActive()&&!n.isAnimating){n.isAnimating=!0,0!==n.state.lowestVisibleItemIndex&&r<0&&(r=0);var s=n.state.lowestVisibleItemIndex-r;0===i&&(r=t-o);var a=n.getNewSliderOffset(s)+n.getBaseSliderOffset();e&&"wheel"===e.type?n.shiftSlider(r,a,n.statics.MOVE_DIRECTION_PREV,{x:e.clientX,y:e.clientY},!1,oe(t,o,r)):e&&"keydown"===e.type?n.shiftSlider(r,a,n.statics.MOVE_DIRECTION_PREV,null,!0,oe(t,o,r)):n.shiftSlider(r,a,n.statics.MOVE_DIRECTION_PREV,null,!1,oe(t,o,r))}}),$(K(K(n)),"handleMouseLeaveSliderMask",function(){clearTimeout(n.animateHoverTimeout)}),$(K(K(n)),"handleTouchStart",function(e){e.pointerType&&"touch"!==e.pointerType?e.stopPropagation():n.touchStart=I.getTouchObjectStart(e)}),$(K(K(n)),"handleTouchMove",function(e){if(e.pointerType&&"touch"!==e.pointerType)e.stopPropagation();else{var t=Y.touchAdvanceDirection(e,n.touchStart,n.context.isRtl);Math.abs(t.deltaX)>Math.abs(t.deltaY)&&e.preventDefault(),n.isAnimating||(t.direction===Y.ADVANCE_NEXT&&n.isNextNavActive()?(n.advanceNext(),n.touchStart={}):t.direction===Y.ADVANCE_PREV&&n.isPrevNavActive()&&(n.advancePrev(),n.touchStart={}))}}),$(K(K(n)),"handleMouseWheel",function(e){if(!n.isAnimating){var t=Y.wheelAdvanceDirection(e);t===Y.ADVANCE_NEXT?n.advanceNext(e):t===Y.ADVANCE_PREV&&n.advancePrev(e)}}),n.animateHoverTimeout=null,n.isAnimating=!1,n.touchStart=null,n.statics={MOVE_DIRECTION_NEXT:1,MOVE_DIRECTION_PREV:-1},n.sliderWrappedItems=[];var r=n.getTotalItemCount(),s=n.props.initialLowestVisibleIndex||0;return!n.props.enableLooping&&r&&s+n.props.itemsInRow>r&&(s=r-n.props.itemsInRow)<0&&(s=0)&&(n.state={lowestVisibleItemIndex:s,hasMovedOnce:n.props.initialLowestVisibleIndex||!1,sliderHandleFocused:!1}),n.state={lowestVisibleItemIndex:s,hasMovedOnce:n.props.initialLowestVisibleIndex||!1,sliderHandleFocused:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,y["Component"]),n=t,(o=[{key:"shiftSlider",value:function(e,t,n,o,i,r){var s=this,a=S.a.findDOMNode(this.refs.sliderContent),l=this.refs.handlePrev?S.a.findDOMNode(this.refs.handlePrev):null,c=this.getAnimationStyle(t);clearTimeout(this.animateHoverTimeout),"function"==typeof this.props.onSliderMove&&this.props.onSliderMove(e,n),l&&l.classList.add("active"),U.pauseScanning(),a.addEventListener("transitionend",function t(i){i.target===this&&(a.removeEventListener("transitionend",t),a.classList.remove("animating"),s.setState({lowestVisibleItemIndex:e,hasMovedOnce:!0}),s.resetSliderPosition(),s.isAnimating=!1,s.refocusAfterShift(n),U.resumeScanning(),U.requestScan(Object.assign({event:"lolomoScroll",xScrollDirection:n,rowSegment:r},s.props.parentContext)),o&&(clearTimeout(s.animateHoverTimeout),s.animateHoverTimeout=setTimeout(function(){u.mouseOver(o)},100)))}),a.classList.add("animating"),a.setAttribute("style",c)}},{key:"refocusAfterShift",value:function(e){var t=this.getSliderItemsInViewport(),n=void 0,o=void 0;t&&t.length>1&&(o=e===this.statics.MOVE_DIRECTION_NEXT?1:t.length-2,(n=S.a.findDOMNode(t[o]).querySelector(".slider-refocus"))&&n.focus())}},{key:"resetSliderPosition",value:function(){if(this.refs.sliderContent){var e=this.getBaseSliderOffset(),t=this.getAnimationStyle(e);S.a.findDOMNode(this.refs.sliderContent).setAttribute("style",t)}}},{key:"getSliderItemWidth",value:function(){return 100/this.props.itemsInRow}},{key:"getHighestIndex",value:function(){return Math.min(this.getTotalItemCount(),this.state.lowestVisibleItemIndex+2*this.props.itemsInRow+1)}},{key:"getLowestIndex",value:function(){return Math.max(0,this.state.lowestVisibleItemIndex-this.props.itemsInRow-1)}},{key:"getTotalItemCount",value:function(){return this.props.totalItems}},{key:"getTotalPages",value:function(){return Math.ceil(this.getTotalItemCount()/this.props.itemsInRow)}},{key:"getPageNumber",value:function(e){return Math.ceil(e/this.props.itemsInRow)}},{key:"getBaseSliderOffset",value:function(){var e=this.props.itemsInRow,t=this.getSliderItemWidth(),n=0;return this.getTotalPages()>1&&((this.state.hasMovedOnce&&0===this.state.lowestVisibleItemIndex&&this.props.enableLooping||this.state.lowestVisibleItemIndex>=e)&&(n=-100),this.state.hasMovedOnce&&(this.props.enableLooping||this.state.lowestVisibleItemIndex>e)&&(n-=t),this.state.lowestVisibleItemIndex>0&&this.state.lowestVisibleItemIndex<e&&(n-=this.state.lowestVisibleItemIndex*t)),n*(this.context.isRtl?-1:1)}},{key:"getNewSliderOffset",value:function(e){return e*this.getSliderItemWidth()*(this.context.isRtl?-1:1)}},{key:"getSliderContents",value:function(){var e=this.props.itemsInRow,t=this.getTotalItemCount(),n=[],o=[],i=0,r=this.state.lowestVisibleItemIndex-this.getLowestIndex();if(this.props.children&&this.props.children.length){n=this.props.children.slice(this.getLowestIndex(),this.getHighestIndex()),i=this.getHighestIndex()-this.getLowestIndex();for(var s=0;n.length<i&&n.length<t;s++)n.push(g.a.createElement(H,{className:"fullWidth",delay:.2*s,pulsate:!1,displayWhenNotPulsing:!0,key:"loading-title-"+s}));this.getTotalPages()>1&&this.props.enableLooping&&(this.getHighestIndex()-this.state.lowestVisibleItemIndex<=2*e&&(o=this.state.lowestVisibleItemIndex+e===t?this.props.children.slice(0,this.props.itemsInRow+1):this.props.children.slice(0,1),o=this.cloneItemsWithNewKeys(o,"_appended"),n=n.concat(o)),this.state.hasMovedOnce&&this.state.lowestVisibleItemIndex-e<=0&&(r+=(o=0===this.state.lowestVisibleItemIndex?this.props.children.slice(-this.props.itemsInRow-1):this.props.children.slice(-1)).length,n=(o=this.cloneItemsWithNewKeys(o,"_prepended")).concat(n)))}return this.wrapSliderItems(n,r)}},{key:"cloneItemsWithNewKeys",value:function(e,t){return e.map(function(e){return g.a.cloneElement(e,{key:e.key+t})})}},{key:"getSliderItemsInViewport",value:function(){return this.getSliderItems(this.sliderWrappedItems.filter(function(e){return e.inViewport}))}},{key:"getAllSliderItems",value:function(){return this.getSliderItems(this.sliderWrappedItems)}},{key:"getSliderItems",value:function(e){var t=[],n=void 0,o=void 0;for(n=0;o=e[n];n++)this.refs[o.uid]&&t.push(this.refs[o.uid]);return t}},{key:"getItem",value:function(e){return this.refs[e]}},{key:"isItemInMiddle",value:function(e){var t=this.getItem("item_"+e);return t&&("middle"===t.props.viewportPosition||"leftEdge"===t.props.viewportPosition||"rightEdge"===t.props.viewportPosition)}},{key:"wrapSliderItems",value:function(e,t){var n=t+this.props.itemsInRow-1,o=this,i=0;return this.sliderWrappedItems=[],g.a.Children.map(e,function(e,r){var s="",a=!1;r===t?(s="leftEdge",a=!0):r===t-1?s="leftPeek":r===n+1?s="rightPeek":r===n?(s="rightEdge",a=!0):r>=t&&r<=n&&(s="middle",a=!0);var l=s?i:"",u="item_"+r,c=!1;return s&&(++i,c=!0),o.sliderWrappedItems.push({uid:u,inViewport:c}),g.a.createElement(B,{ref:u,key:u,viewportIndex:l,viewportPosition:s},g.a.cloneElement(e,{sliderItemId:u,itemTabbable:a}))})}},{key:"getAnimationStyle",value:function(e){var t=e?"translate3d("+e+"%, 0px, 0px)":"";return["-webkit-transform: "+t,"-ms-transform: "+t,"transform: "+t].join(";")}},{key:"getReactAnimationStyle",value:function(e){if(e){var t="translate3d("+e+"%, 0px, 0px)";return{WebkitTransform:t,MsTransform:t,transform:t}}return null}},{key:"componentDidUpdate",value:function(e){this.props.itemsInRow!==e.itemsInRow&&this.resetSliderPosition()}},{key:"componentWillReceiveProps",value:function(e){e.totalItems<this.props.totalItems&&this.isLastPage()&&this.setState({lowestVisibleItemIndex:Math.max(0,e.totalItems-e.itemsInRow)})}},{key:"hasMorePrevPages",value:function(){var e=this.state.lowestVisibleItemIndex-this.props.itemsInRow;return this.props.enableLooping||e>-this.props.itemsInRow}},{key:"hasMoreNextPages",value:function(){var e=this.state.lowestVisibleItemIndex+this.props.itemsInRow;return this.props.enableLooping||e<this.getTotalItemCount()}},{key:"isPrevNavActive",value:function(){return this.getTotalPages()>1&&this.state.hasMovedOnce&&this.hasMorePrevPages()}},{key:"isNextNavActive",value:function(){return this.getTotalPages()>1&&this.hasMoreNextPages()}},{key:"isLastPage",value:function(){return this.getPageNumber(this.state.lowestVisibleItemIndex)+1===this.getTotalPages()}},{key:"componentDidMount",value:function(){if(ne()){var e=S.a.findDOMNode(this.refs.sliderContent);e.addEventListener("pointerdown",this.handleTouchStart),e.addEventListener("pointermove",this.handleTouchMove)}}},{key:"componentWillUnmount",value:function(){if(ne()){var e=S.a.findDOMNode(this.refs.sliderContent);e.removeEventListener("pointerdown",this.handleTouchStart),e.removeEventListener("pointermove",this.handleTouchMove)}}},{key:"executeOnEnterOrSpace",value:function(e){return function(t){switch(t&&t.which){case F:case z:e(t)}}}},{key:"renderPageHandle",value:function(e,t,n,o,i){var r=te("handle",{handlePrev:t,handleNext:!t,active:o});if(e<=1||t&&!this.state.hasMovedOnce)return this.props.showEmptyHandles&&g.a.createElement("span",{className:r,tabIndex:-1,ref:n,role:"presentation","aria-label":""});var s=this.context.isRtl,a=te("indicator-icon",{"icon-leftCaret":s?!t:t,"icon-rightCaret":s?t:!t}),l=this.props.sliderHandlePrevString?this.props.sliderHandlePrevString:"See previous titles",u=this.props.sliderHandleNextString?this.props.sliderHandleNextString:"See more titles",c=t?l:u;return g.a.createElement("span",{className:r,tabIndex:!t||this.state.hasMovedOnce?0:-1,ref:n,onClick:i,onKeyDown:this.executeOnEnterOrSpace(i),onMouseEnter:this.props.onMouseEnterSliderHandle,onFocus:this.props.onMouseEnterSliderHandle,onMouseLeave:this.props.onMouseLeaveSliderHandle,onBlur:this.props.onMouseLeaveSliderHandle,role:"button","aria-label":c},g.a.createElement("b",{className:a}))}},{key:"render",value:function(){var e=this.getReactAnimationStyle(this.getBaseSliderOffset()),t=te("sliderContent","row-with-x-columns"),n=this.getTotalPages(),o=this.props.enablePaginationIndicator&&n>1,i=te("sliderMask",{showPeek:this.props.enablePeek});return g.a.createElement("div",{className:"slider"},this.renderPageHandle(n,!0,"handlePrev",this.isPrevNavActive(),this.advancePrev),o?g.a.createElement(C,{totalPages:n,activePage:this.getPageNumber(this.state.lowestVisibleItemIndex)}):null,g.a.createElement("div",{className:i,onMouseLeave:this.handleMouseLeaveSliderMask},g.a.createElement("div",{className:t,ref:"sliderContent",style:e,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onWheel:this.handleMouseWheel},this.getSliderContents())),this.renderPageHandle(n,!1,"handleNext",this.isNextNavActive(),this.advanceNext))}}])&&Z(n.prototype,o),i&&Z(n,i),t}();function re(){function e(){return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&"function"==typeof window.Element.prototype.animate}function t(e,t){return b(function(){t.reset&&(e.removeAttribute("style"),delete t.reset);var n=o(t);for(var i in n)n.hasOwnProperty(i)&&(e.style[i]=n[i])}),e}function n(e){var o,i,a;if(!e)throw new TypeError("Animation - "+e.displayName+": 'animation' argument must be an object.");var l=e.target;l.addEventListener&&document.body.contains(l)&&(e.before&&t(l,e.before),(e.callback||e.animation||void 0!==e.opacity||e.after)&&(o=function(e,t){if(e&&"function"!=typeof e)throw new Error("Animation - "+t.displayName+": 'animation' argument's 'callback' property must be a function.");e&&e(),t&&n(t)}.bind(null,e.callback,e.animation),i=function(e,t,n,o){o.target===e&&(n(),t())}.bind(null,l,o,function(){e.after&&t(l,e.after),l.removeEventListener(s,i)}),l.addEventListener(s,i)),e.keyframes&&e.keyframes.callback&&(a=function(e,t,n,o){o.target===e&&(n(),t.call(this))}.bind(null,l,e.keyframes.callback,function(e){l.removeEventListener(r,a)}),l.addEventListener(r,a)),b(function(){t(l,e)}))}function o(e){var t,n,o,i={};for(t in"number"==typeof e.duration&&(e.duration+="ms"),"number"==typeof e.delay&&(e.delay+="ms"),e.keyframes&&"number"==typeof e.keyframes.duration&&(e.keyframes.duration+="ms"),e)if(-1===l.indexOf(t))if(n=u[t],o=e[t],n)n in d?(i[n]||(i[n]=""),i[n]+=t+"("+o+") "):i[n]="easing"===n?p[o]:o;else if("keyframes"===t)for(t in o)t in c?i[c[t]]="easing"===t?p[o[t]]:o[t]:console.warn("CSSAnimations: Unsupported 'animation.keyframes' property - "+t);else i[t]=o;return i}function i(t,n,o,i,r){if(t)if(e(r)){var s=t.animate(n,o);"function"==typeof i&&(s.onfinish=function(){i()})}else Array.isArray(n)&&n.length>=2&&function(e,t,n,o,i){var r={easing:"transitionTimingFunction",duration:"transitionDuration",delay:"transitionDelay",fill:"animationFillMode"};if(n&&o){var s={};if(t)for(var a in t)"forwards"!==o.fill&&(s[a]=e.style[a]),e.style[a]=t[a];b(function(){for(var t in o){"duration"!==t&&"delay"!==t||"number"!=typeof o[t]||(o[t]+="ms");var a=r[t]||t;e.style[a]!==o[t]&&(e.style[a]=o[t])}var l=e.style.transitionProperty.split(",").filter(function(e){return""!==e}).map(function(e){return e.trim()}),u=v.uniq(l.concat(Object.keys(n))).join(",");for(var c in e.style.transitionProperty=u,n)e.style[c]=n[c],"transform"===c&&(e.style.webkitTransform=n[c]);var p=parseInt(o.duration,10)||0;o.delay&&(p+=parseInt(o.delay,10)),setTimeout(function(){b(function(){for(var t in s)s.hasOwnProperty(t)&&(e.style[t]=s[t]);"function"==typeof i&&i()})},p+20)})}}(t,n[0],n[1],o,i)}var r,s,a=window,l=["target","callback","animation","after","before"],u={translate:"transform",translateX:"transform",translateY:"transform",rotate:"transform",scale:"transform",scaleX:"transform",scaleY:"transform",skewX:"transform",skewY:"transform",translateZ:"transform",translate3d:"transform",rotateX:"transform",rotateY:"transform",scale3d:"transform",scaleZ:"transform",matrix:"transform",matrix3d:"transform",origin:"transformOrigin",perspective:"perspective",easing:"transitionTimingFunction",duration:"transitionDuration",delay:"transitionDelay"},c={name:"animationName",duration:"animationDuration",delay:"animationDelay",easing:"animationTimingFunction",repeat:"animationIterationCount",direction:"animationDirection",fillMode:"animationFillMode"},p={ease:"ease",linear:"linear",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",stepStart:"step-start",stepEnd:"step-end",steps:"steps",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},d={transform:"transform",WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform"},f={WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},h={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"},m=["Webkit","Moz","O","ms"];!function(){if(a){var e,t,n,o,i=document.createElement("div").style;for(t in e="",m.forEach(function(t){t+"Transition"in i&&(e=t)}),u)u.hasOwnProperty(t)&&(n=u[t],(o=e+n.charAt(0).toUpperCase()+n.substr(1))in i&&(u[t]=o));for(t in c)u.hasOwnProperty(t)&&(n=c[t],(o=e+n.charAt(0).toUpperCase()+n.substr(1))in i&&(c[t]=o));s="TransitionEvent"in window?"transitionend":f[e+"Transition"],r="AnimationEvent"in window?"animationend":h[e+"Animation"]}}();var b=function(){if(!a)return function(){};var e=0;return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){var n=Date.now(),o=Math.max(0,16-(n-e));return e=n+o,setTimeout(function(){t(Date.now())},o)}}();return{animate:n,animateIt:i,clearStyles:function(e){e.removeAttribute("style")},css:function(e){return t(e.target,e)},getAnimationStyle:o,reset:function(t,n,o){e()?i(t,[n,n],{duration:0,fill:"forwards"},o):b(function(){t.style.transition="",t.style.transitionDuration=0,t.style.transitionDelay=0,t.style.transitionProperty="",Object.keys(n).forEach(function(e){t.style[e]=n[e]}),o&&o()})}}}function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(){for(var t=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var i=se(o);if("string"===i||"number"===i)t.push(o);else if(Array.isArray(o))t.push(e.apply(null,o));else if("object"===i)for(var r in o)hasOwnProperty.call(o,r)&&o[r]&&t.push(r)}}return t.join(" ")}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ie.defaultProps={parentContext:{},showEmptyHandles:!1},ie.propTypes={getModelData:O.a.func,isRtl:O.a.bool};var he=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=ce(t).call(this,e),n=!i||"object"!==le(i)&&"function"!=typeof i?de(o):i,fe(de(de(n)),"handleSliderMove",function(e,t){n.setState({lowestVisibleItemIndex:e}),n.sliderMoveDirection=t,"function"==typeof n.props.handleSliderMove&&n.props.handleSliderMove(e,t)}),fe(de(de(n)),"closingBobs",[]),fe(de(de(n)),"onBobLeave",function(e,t){var o=de(de(n)),i={position:e,callback:t,closeTimeout:setTimeout(function(){o._ismounted&&o.closePrevBobs(!1)},500)};n.closingBobs.push(i)}),fe(de(de(n)),"onBobOpen",function(e,t,o,i){n.pushSliderItems(e,t,o,i),n.closePrevBobs(!0),n.setState({isBobOpen:!0})}),fe(de(de(n)),"onBobClose",function(e,t,o,i){i&&n.handleRowBlur(),!n.ignoreClosingPush||n.isJawBoneOpen()?n.pushSliderItems(e,0,t,o):o&&o(),n.ignoreClosingPush=!1}),fe(de(de(n)),"closePrevBobs",function(e){n.ignoreClosingPush=e;for(var t=0,o=n.closingBobs.length;t<o;t++){var i=n.closingBobs[t];clearTimeout(i.closeTimeout),i.callback&&i.callback()}n.closingBobs=[]}),fe(de(de(n)),"getIsBobOpen",function(){return n.state.isBobOpen}),fe(de(de(n)),"handleRowBlur",function(){return n.closePrevBobs(!1),n.getIsBobOpen()&&setTimeout(n.cleanUpAllBobStyles,500),n.setState({isBobOpen:!1}),null}),fe(de(de(n)),"wrapChildItems",function(e){return e.map(function(e){return g.a.cloneElement(e,{onBobOpen:n.onBobOpen,onBobClose:n.onBobClose,onBobLeave:n.onBobLeave,getRowHasBobOpen:n.getIsBobOpen,aJawBoneOpen:n.isJawBoneOpen(),myJawBoneOpen:n.isJawBoneOpen()&&n.props.jawBoneRankNum===e.props.rankNum})})}),n.lowestVisibleItemIndex=0,n.state={isBobOpen:!1,sliderMoveDirection:null},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,y["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this._ismounted=!0}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"cleanUpAllBobStyles",value:function(){if(this._ismounted){var e=this.refs.slider;e&&(e.getAllSliderItems()||[]).map(function(e){d.clearStyles(r.findDOMNode(e))})}}},{key:"pushSliderItems",value:function(e,t,n,o){var i=this.refs.slider,r=i&&i.getItem(e);if(r&&n){var s,a=r.props.viewportPosition;s="leftEdge"===a?1:"rightEdge"===a?-1:0;for(var l,u=i.getSliderItemsInViewport(),c=0;l=u[c];c++){var p=0;if(l===r)p=s*t;else{var d=s?2:1,f=l.props.viewportIndex>r.props.viewportIndex?1:-1;s&&f!==s&&(d=0),p=f*t*d}this.context.isRtl&&(p*=-1),re().animate({target:S.a.findDOMNode(l),translate3d:Math.floor(p)+"px, 0,0",duration:n,callback:o,easing:"cubic-bezier(0.5, 0, 0.1, 1)",delay:0})}}}},{key:"isJawBoneOpen",value:function(){return this.props.showJawBone}},{key:"getJawBoneModel",value:function(){if(this.props.jawBoneModelIndex>=0){var e=this.props.videoRoot?[this.props.jawBoneModelIndex,this.props.videoRoot]:[this.props.jawBoneModelIndex];return this.props.model.bind(e)}return null}},{key:"render",value:function(){this.props.model;var e=6,t=0,n=0,o=0,i=0,r=0;this.props.columnsInRow&&(e=this.props.columnsInRow),this.isJawBoneOpen()&&(o=(t=(n=this.getJawBoneModel())&&n.getValueSync(["summary"]))&&"show"===t.type,i=p.getPaths(this.context.models,null,{isShow:o}),r=n&&i);var s=ae({rowContainer:!0,jawBoneOpen:r&&!0,bobOpen:this.state.isBobOpen,rowContainer_title_card:!0});return g.a.createElement("div",{className:s,id:"row-"+this.props.rowNum},g.a.createElement("div",{className:"rowContent slider-hover-trigger-layer",onMouseLeave:this.handleRowBlur},g.a.createElement(ie,{ref:"slider",itemsInRow:e,totalItems:this.props.totalItems,onSliderMove:this.handleSliderMove,enableLooping:!0,enablePeek:!0,enablePaginationIndicator:this.props.enablePaginationIndicator,parentContext:{rowIndex:this.props.rowNum}},this.wrapChildItems(this.props.children))))}}])&&ue(n.prototype,o),i&&ue(n,i),t}();function me(e){return g.a.createElement("div",{className:D()(e.className,"boxart-container")},e.children,e.title&&g.a.createElement("div",{className:"fallback-text-container","aria-hidden":!0},g.a.createElement("div",{className:"fallback-text"},e.title)))}function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(t){function n(){var e,t,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return o=this,i=(e=ve(n)).call.apply(e,[this].concat(s)),t=!i||"object"!==be(i)&&"function"!=typeof i?we(o):i,Ie(we(we(t)),"node",null),Ie(we(we(t)),"handleMouseEnter",function(e){t.props.onMouseEnter&&t.props.onMouseEnter(t.node,e)}),Ie(we(we(t)),"handleMouseLeave",function(e){t.props.onMouseLeave&&t.props.onMouseLeave(t.node,e)}),Ie(we(we(t)),"onAnchorClick",function(e){var n=t.props.onClick;n&&(e.preventDefault(),n())}),t}var o,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(n,y["Component"]),o=n,(i=[{key:"e",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var t=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var i=be(o);if("string"===i||"number"===i)t.push(o);else if(Array.isArray(o))t.push(e.apply(null,o));else if("object"===i)for(var r in o)Object.hasOwnProperty.call(o,r)&&o[r]&&t.push(r)}}return t.join(" ")})},{key:"getAnimationStyle",value:function(){this.props;var e=this.props.animateIn,t=this.props.videoModel.id%20*2.5/100+.3;return e?l.getAnimationStyle({keyframes:{delay:t+"s"}}):{}}},{key:"render",value:function(){var e=this,t=(this.props,this.props.isInvalid,this.props.itemTabbable),n=this.props.isDisliked,o=this.props.isFocused,i=this.props.isDimmed,r=this.props.isBobOpen,s=this.props.videoModel,a=this.props.watchURL,l=this.props.animateIn,c=(this.props.model,this.props.showProgress),d=this.props.showMetaData,f=this.props.showRichTitle,b=this.props.rowNum,y=this.props.rankNum,v=this.e({"title-card":!0,"is-bob-open":r,"animate-in":l,"is-focused":o,"is-dimmed":i,"is-disliked":n}),w="title-card-"+(void 0!==b?b:-1)+"-"+(void 0!==y?y:-1);return g.a.createElement("div",{className:"title-card-container"},g.a.createElement("div",{ref:function(t){e.node=t},id:w,style:this.getAnimationStyle(),className:D()(v,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},g.a.createElement("a",{href:a,onClick:this.onAnchorClick,"aria-label":s.title?s.title:null,tabIndex:t?0:-1,"aria-hidden":!t,className:"slider-refocus"},g.a.createElement(me,{className:"boxart-size-16x9",title:s.title},g.a.createElement("img",{className:"boxart-image boxart-image-in-padded-container",src:s.image,alt:""}))),o&&g.a.createElement(u,{model:this.props.model,playbackQueryParams:this.props.playbackQueryParams}),this.props.children),c&&g.a.createElement(m,{runtime:s.episodeRuntime,bookmarkPosition:s.episodeBookmark,current:!0,showSummary:!1}),d&&g.a.createElement("div",{className:"metadata"},f?g.a.createElement(h,{videoId:s.id,title:s.title,isRtl:this.context.isRtl,assets:s.showAsARow}):g.a.createElement("div",{className:"episode-title"},s.title),g.a.createElement(p,{onlyInMinutes:!0,runtime:s.episodeRuntime})))}}])&&ye(o.prototype,i),r&&ye(o,r),n}(),Ee=b(5),Se=b.n(Ee);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=1.95,Re=.51282051282051,Be=1.2,Ce=.8333333333,Ae=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return o=this,n=!(i=(e=Te(t)).call.apply(e,[this].concat(s)))||"object"!==_e(i)&&"function"!=typeof i?Ne(o):i,Me(Ne(Ne(n)),"preExpandScale","1x2"===n.props.boxShape?Ce:Re),Me(Ne(Ne(n)),"scale","1x2"===n.props.boxShape?Be:xe),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,y["Component"]),n=t,(o=[{key:"getParentSliderItem",value:function(e){for(;e&&(e=e.parentNode);)if(e instanceof HTMLElement&&e.classList.contains("slider-item"))return e;return null}},{key:"setParentZIndex",value:function(e){var t=this.getParentSliderItem(this.containerNode);t&&re().css({target:t,zIndex:e})}},{key:"openBOB",value:function(){var e=this.props.onBobOpen,t=this.scale,n=100*t,o=(n-100)/-2;this.setParentZIndex(4),re().animate({target:S.a.findDOMNode(Object.assign(Object.assign(this))),before:{transformOrigin:"",scale:this.preExpandScale,visibility:"visible",width:n+"%",height:n+"%",top:o+"%",left:o+"%"},scale:.99999,easing:"cubic-bezier(0.5, 0, 0.1, 1)",duration:400}),re().animate({target:this.onGrowOverlayImage,opacity:0,duration:600,easing:"linear",after:{display:"none"}}),"function"==typeof e&&e(t,400)}},{key:"componentDidMount",value:function(){this.openBOB()}},{key:"componentWillEnter",value:function(e){e()}},{key:"componentWillLeave",value:function(e){var t=this,n=this.props.onBobClose,o=!1,i=400;re().animate({target:S.a.findDOMNode(this),before:{transformOrigin:"50% 50% 0",duration:0},scale:this.preExpandScale,duration:i,easing:"cubic-bezier(0.5, 0, 0.1, 1)",callback:function(){o||(o=!0,t.setParentZIndex(null),"function"==typeof e&&e())}}),re().animate({target:this.onGrowOverlayImage,before:{display:"block"},opacity:1,duration:i}),"function"==typeof n&&n(i),this.setParentZIndex(2),setTimeout(function(){o||(o=!0,t.setParentZIndex(null),"function"==typeof e&&e())},420)}},{key:"render",value:function(){var e=this,t=this.props,n=t.videoModel.id,o=t.titleCardImage,i=t.className;return g.a.createElement("div",{className:D()("bob-card",i),key:"bob-"+n.toString(),ref:function(t){e.containerNode=t}},this.props.children,g.a.createElement("img",{alt:"",src:o,className:"bob-title-art",ref:function(t){e.onGrowOverlayImage=t}}))}}])&&Pe(n.prototype,o),i&&Pe(n,i),t}();function De(e){return g.a.createElement(Se.a,null,e.isBobOpen&&g.a.createElement(Ae,{key:"BobCardElement",boxShape:e.boxShape,className:e.className,videoModel:e.videoModel,titleCardImage:e.titleCardImage,getParentSliderItem:e.getParentSliderItem,onBobOpen:e.onBobOpen,onBobClose:e.onBobClose},e.children))}function je(e){return g.a.createElement(De,{boxShape:"16x9",className:"bob-card-adult-video-merch",videoModel:e.videoModel,titleCardImage:e.titleCardImage,onBobOpen:e.onBobOpen,onBobClose:e.onBobClose,isBobOpen:e.isBobOpen},g.a.createElement("div",null,g.a.createElement("div",{className:"bob-overlay"},g.a.createElement("img",{src:e.titleCardImageHighRes,className:"bob-title-art",style:{zIndex:0}}),g.a.createElement(y.Fragment,null,g.a.createElement("div",{className:"slide-wrapper"},e.slideTemplate&&e.slideTemplate(e))))))}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Je=function(e){function t(){var e,n,o,i,r,s,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return o=this,n=!(i=(e=He(t)).call.apply(e,[this].concat(u)))||"object"!==Le(i)&&"function"!=typeof i?ze(o):i,r=ze(ze(n)),a=function(){return console.log("onClickJawHitZone")},(s="onClickJawHitZone")in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,y["Component"]),n=t,(o=[{key:"onMylistChange",value:function(e){e&&"function"==typeof this.props.onBobClose&&this.props.onBobClose(0,null,e)}},{key:"getBobToggles",value:function(){var e=this.props.videoModel,t={showMetaData:!0,showPercentMatch:!0,showEvidence:!0,showThumbRatingIcons:!0,showProgressBar:!1,showProgressSummary:!e.isInteractive,showAudioToggle:e.hasVideoMerch,showAddToMyList:!!e.queue,showPlayButton:e.isPlayable,showRecentInterestingMoment:"unwatched"!==e.watchState,showNewEpisodeBadge:!0};return"resume"===e.watchState&&(t.showProgressBar=!0),"unwatched"!==e.watchState&&(t.showEvidence=!1,t.showMetaData=!1),"continueWatching"===this.context.listContext&&(t.showEvidence=!1,t.showProgressBar=!1),e.isOriginal&&!e.isPlayable&&(t.showMetaData=!1),t}},{key:"render",value:function(){var e=this.getBobToggles();return g.a.createElement(je,{videoModel:this.props.videoModel,model:this.props.model,titleCardImage:this.props.videoModel.image,titleCardImageHighRes:this.props.videoModel.imageHighRes,playbackQueryParams:this.props.playbackQueryParams,isBobOpen:this.props.isBobOpen,showMetaData:e.showMetaData,showThumbRatingIcons:e.showThumbRatingIcons,showEvidence:e.showEvidence,showAddToMyList:e.showAddToMyList,showAudioToggle:e.showAudioToggle,showRecentInterestingMoment:e.showRecentInterestingMoment,showProgressBar:e.showProgressBar,showProgressSummary:e.showProgressSummary,showNewEpisodeBadge:e.showNewEpisodeBadge,showPlayButton:e.showPlayButton,enableMetaDataHiding:this.props.enableMetaDataHiding,onMylistChange:this.onMylistChange,onBobOpen:this.props.onBobOpen,onBobClose:this.props.onBobClose,onClickJawHitZone:this.onClickJawHitZone,isMutedByDefault:!1,slideTemplate:this.props.slideTemplate})}}])&&Ve(n.prototype,o),i&&Ve(n,i),t}();function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Je.defaultProps={enableMetaDataHiding:!0},Je.propTypes={rowNum:O.a.number,rankNum:O.a.number};var Qe=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=Xe(t).call(this,e),n=!i||"object"!==Fe(i)&&"function"!=typeof i?Ye(o):i,Ze(Ye(Ye(n)),"handleMouseEnter",function(e,t){var o=document.activeElement||document.body;t&&t.currentTarget&&e instanceof HTMLElement&&e.contains(t.currentTarget)&&!n.state.isBobOpen&&(o&&o!==document.body&&!o.getAttribute("data-search-input")&&o.blur(),n.handleEnter(t))}),Ze(Ye(Ye(n)),"handleMouseLeave",function(e,t){(t&&!t.relatedTarget||t.relatedTarget.location||t.relatedTarget&&e instanceof HTMLElement&&!e.contains(t.relatedTarget))&&n.handleLeave()}),Ze(Ye(Ye(n)),"queueBobOpen",function(){if(!n.bobOpenTimeout&&!n.state.isBobOpen){var e,t=S.a.findDOMNode(Ye(Ye(n)));t instanceof Element&&(n.titleCardRect=Y.getRect(t)),e=n.props.getRowHasBobOpen&&n.props.getRowHasBobOpen()?100:400,n.bobOpenTimeout=setTimeout(n.openBob,e)}}),Ze(Ye(Ye(n)),"openBob",function(){n.scope.isHovering&&n._isMounted&&n.setState({isBobOpen:!0})&&T.a.emit(P,s.assign({trackId:n.context.trackId,rankNum:n.videoModel.rankNum,rowNum:n.videoModel.rowNum,listContext:n.context.listContext},n.props))}),Ze(Ye(Ye(n)),"onBobOpen",function(e,t){if(n.props.onBobOpen&&n.props.sliderItemId&&n.titleCardRect){var o=(n.titleCardRect.width*e-n.titleCardRect.width)/2;n.props.onBobOpen(n.props.sliderItemId,o,t)}}),Ze(Ye(Ye(n)),"onBobClose",function(e,t,o){n.props.onBobClose&&n.props.sliderItemId&&n.props.onBobClose(n.props.sliderItemId,e,t,o)}),n.statics={getSize:function(){return J}},n._isMounted=!1,n.scope={},n.onBobFocusEnd=0,n.onBoxartFocusEnd=0,n.jawBoneDataLoadTimeout=0,n.bobOpenTimeout=0,n.titleCardRect=0,n.scope={isHovering:!1,hasFetchedBobData:!1},n.state={isBobOpen:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,y["Component"]),n=t,(o=[{key:"componentWillMount",value:function(){this.videoModel=this.props.data}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUpdate",value:function(e,t){this.videoModel=this.props.data}},{key:"componentWillReceiveProps",value:function(e){!this.props.myJawBoneOpen&&e.myJawBoneOpen?this.onBoxartFocusEnd=this.props.logFocus("boxArt",this.getBoxartTrackingInfo()):this.props.myJawBoneOpen&&!e.myJawBoneOpen&&this.onBoxartFocusEnd&&this.onBoxartFocusEnd()}},{key:"componentWillUnmount",value:function(){this.clearDelays(),this.onBobFocusEnd&&(this.onBobFocusEnd(),delete this.onBobFocusEnd),this.onBoxartFocusEnd&&(this.onBoxartFocusEnd(),delete this.onBoxartFocusEnd),this._isMounted=!1}},{key:"handleKeyDown",value:function(e){switch(e&&e.which){case v.ENTER:this.handleClick()}}},{key:"handleClick",value:function(e){console.log({handleClick:e})}},{key:"handleEnter",value:function(e,t){var n=this;this.context.models;if(this.scope.isHovering=!0,!this.scope.hasFetchedBobData){this.scope.hasFetchedBobData=!0;this.props.videoRoot&&this.props.videoRoot;setTimeout(function(){}),setTimeout(function(){},700)}this.props.aJawBoneOpen?this.jawBoneDataLoadTimeout||this.props.myJawBoneOpen||(this.jawBoneDataLoadTimeout=setTimeout(c.ViewDetailsCommand(function(){n.context.openJawbone(n.context.rowNum,n.props.rankNum,n.props.videoId),n.clearDelays()}),300)):this.queueBobOpen()}},{key:"clearDelays",value:function(){this.jawBoneDataLoadTimeout&&clearTimeout(this.jawBoneDataLoadTimeout),this.bobOpenTimeout&&clearTimeout(this.bobOpenTimeout),this.jawBoneDataLoadTimeout=void 0,this.bobOpenTimeout=void 0}},{key:"handleLeave",value:function(){var e=this;this.scope.isHovering=!1,this.clearDelays(),this.state.isBobOpen&&-1===window.location.href.indexOf("stickybob")&&(this.onBobFocusEnd&&(this.onBobFocusEnd(),delete this.onBobFocusEnd),this.props.onBobLeave(this.props.rankNum,function(){e._isMounted&&e.setState({isBobOpen:!1})}))}},{key:"handleJawOpen",value:function(){this.handleLeave(),this.setState({isBobOpen:!1})}},{key:"onRating",value:function(){this._isMounted&&this.forceUpdate()}},{key:"isDisliked",value:function(){var e=this.videoModel.userRating;return e&&"thumb"===e.type&&1===e.userRating}},{key:"shouldShowProgress",value:function(){return!1}},{key:"render",value:function(){var e=this.shouldShowProgress();return g.a.createElement(Oe,{animateIn:this.props.animateIn,className:this.props.className,isBobOpen:this.state.isBobOpen,isDimmed:this.props.aJawBoneOpen&&!this.props.myJawBoneOpen,isDisliked:this.isDisliked(),isFocused:this.props.myJawBoneOpen,isInvalid:!this.videoModel.isValid,itemTabbable:this.props.itemTabbable,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,rankNum:this.videoModel.rankNum,rowNum:this.videoModel.rowNum,showProgress:e,videoModel:this.videoModel,watchURL:this.videoModel.watchURL},g.a.createElement(Je,{isBobOpen:this.state.isBobOpen,isTallPanel:this.props.isTallPanel,onBobClose:this.onBobClose,onBobOpen:this.onBobOpen,onJawOpen:this.handleJawOpen,playbackQueryParams:this.props.playbackQueryParams,videoModel:this.videoModel,slideTemplate:this.props.slideTemplate}))}}])&&qe(n.prototype,o),i&&qe(n,i),t}();function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t,n,o,i){this.model=e,this.currentRemainingPaths=t,this.isJSONGraph=n||!1,this.isProgressive=new et||!1}Ke.prototype=Object.create(et.prototype),Ke.prototype._toJSONG=function(){return new Ke(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect)},Ke.prototype.progressively=function(){return new Ke(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect)},Ke.prototype._subscribe=function(e){var t=this.model;e.isJSONG=this.isJSONGraph,this.isProgressive;if(this.forceCollect){var n=t._root,o=n.cache,i=o.$_version;h(n,n.expired,c(o),t._maxSize,t._collectRatio,i)}return et};var $e=new Ke;function et(e){this._subscribe=e}et.prototype._toJSONG=function(){return this},et.prototype.progressively=function(){return this},et.prototype.subscribe=et.prototype.forEach=function(e,t,n){var o=new n(e,t,n),i=this._subscribe(o);switch(Ge(i)){case"function":return{dispose:function(){o._closed||(o._closed=!0,i())}};case"object":return{dispose:function(){o._closed||(o._closed=!0,null!==i&&i.dispose())}};default:return{dispose:function(){o._closed=!0}}}},et.prototype.then=function(e,t){var n=this;return n._promise||(n._promise=new Promise(function(e,t){var o=!1,i=[];n.subscribe(function(e){i[i.length]=e},function(e){o=!0,t(e)},function(){var t=i;i.length<=1&&(t=i[0]),!1===o&&e(t)})})),n._promise.then(e,t)};b(8);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}b.d(f,"default",function(){return lt});var at=function(){},lt=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=ot(t).call(this,e),n=!i||"object"!==tt(i)&&"function"!=typeof i?rt(o):i,st(rt(rt(n)),"getTitles",function(){var e={};return{titleList:n.props.data.map(function(t,o){e[t.id]=o;try{return g.a.createElement(Qe,{key:"".concat("title_"+t.id+"_"+n.props.rowNum+"_"+o),rowNum:n.props.rowNum,rankNum:o,videoId:t.id,isTallPanel:!1,videoRoot:n.props.videoRoot,data:t,listContexts:W,slideTemplate:n.props.slideTemplate})}catch(e){console.log("slider render error: ",o,e)}return null}),orderedItemList:e}}),st(rt(rt(n)),"handleSliderMove",function(){var e,t;n.state.fullDataLoaded||(n.state.fullDataLoaded=!0,e=function(){return $e.subscribe(at,function(){return n.forceUpdate()},function(){return n.forceUpdate()})},t=t||10,setTimeout(function(){e()},t))}),n.state={fullDataLoaded:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,y["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){}},{key:"getId",value:function(){var e=this.props.model,t=e.getValueSync(["genreId"]),n=e.getValueSync(["videoId"]);return t||n||null}},{key:"getRowItems",value:function(){var e=this.getTitles();return{rowItems:[].concat(e.titleList).slice(0,100),orderedItemList:e.orderedItemList||{}}}},{key:"getTotalItemsInRow",value:function(){var e=this.props.model.getValueSync(["length"]);return e>100&&(e=100),e}},{key:"sliderMovePqls",value:function(){if(this.props.sliderMovePqls)return this.props.sliderMovePqls;var e=this.context.models,t={},n=L.defaultSliderMoveStrategy;return m.isRichOriginalsRow(this.props.model.getValueSync(["isTallRow"]),this.context.models.truths)&&(t.tallPanelBoxart=!0),j(e,n,t)}},{key:"render",value:function(){var e=this.props.model,t=(this.props.showJawBone,this.props.jawBoneRankNum),n="queue"===this.props.listContext,o=this.getRowItems()||{},i=o.rowItems||[],r=n&&o.orderedItemList;return 0===i.length?null:g.a.createElement("div",{key:this.props.listContext+this.props.rowNum,className:"netslider "+this.props.className,"data-list-context":this.props.listContext},g.a.createElement(he,{model:e,videoRoot:this.props.videoRoot,totalItems:40,rowNum:1,jawBoneRankNum:null,showJawBone:!1,disableJawClose:this.props.disableJawClose,handleSliderMove:this.handleSliderMove,jawBoneModelIndex:t,columnsInRow:6,enablePaginationIndicator:!0,isMyListRow:!1,orderedItemList:r||null},i))}}])&&nt(n.prototype,o),i&&nt(n,i),t}();lt.defaultProps={hideRowHeader:!0,videoRoot:"reference",className:"netslider",id:"83",jawBoneRankNum:null}}])});